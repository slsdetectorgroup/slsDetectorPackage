include(CheckCXXCompilerFlag)
function(sls_add_flag_if_available flag target)
    check_cxx_compiler_flag(${flag} flag_supported)
    if(flag_supported)
        target_compile_options(${target} INTERFACE ${flag})
        message("Adding: ${flag} to ${target}")
    else()
        message("Flag: ${flag} not supported")
    endif()
endfunction()


function(sls_disable_warning flag target)
    check_cxx_compiler_flag(${flag} flag_supported)
    if(flag_supported)
        string(REPLACE "-W" "-Wno-" newflag ${flag})
        message("Adding: ${newflag} to ${target}")
        target_compile_options(${target} INTERFACE ${flag})
    else()
        message("Warning: ${flag} not supported no need to disable")
    endif()
endfunction()